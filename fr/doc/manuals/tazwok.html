<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
	<title>Tazwok Manual</title>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
	<meta name="description" content="" />
	<meta name="expires" content="never" />
	<meta name="modified" content="2008-02-06 15:05:00" />
	<style type="text/css"><!--
	body { font: 90% sans-serif, vernada, arial; margin: 0; }
	#header { background: #f0ba08; color: black; height: 50px;
		border-top: 1px solid black; border-bottom: 1px solid black; }
	#content { margin: 0px 50px 26px 50px; }
	h1 { margin: 14px 0px 0px 16px; }
	li { line-height: 1.4em; }
	pre { padding: 5px; color: black; background: #e1e0b0; }
	pre.script { padding: 10px; color: black; background: #e8e8e8;
		border: 1px inset #333333; }
	code { font-size: 100%; color: #669900; background: transparent; }
	hr { color: white; background: white; height: 1px; border: 0; }
	--></style>
</head>
<body bgcolor="#ffffff">
<div id="header">
<h1><font color="#3e1220">Tazwok Manual</font></h1>
</div>
<hr />
<!-- Start content -->
<div id="content">

<h2>NOM</h2>
<p>
Tazwok - SliTaz sources and packages cooker.
</p>

<h2>SYNTAXE</h2>
<pre>
 tazwok [command] [package|list|category|dir] [--option]
</pre>

<h2>DESCRIPTION</h2>
<p>
Tazwok est un outils en ligne de commande permettant de configurer et de
compiler un paquet depuis les sources. Tazwok permet aussi de créer des
paquets prêts à être utilisé par Tazpkg, le gestionnaire de paquets créer
pour SliTaz. Pour fonctionner Tazwok utilise un fichier contenant la recette
et toutes les informations nécessaires à la construction du paquet, cette
recette est aussi utilisée par Tazpkg et se compose de différentes variables
et fonctions. Tazwok utilise un fichier de configuration (/etc/tazwok.conf)
pour connaître le chemin vers le wok, les paquets sources et les paquets
(.tazpkg) générés. Il est aussi capable de générer une liste paquets avec
leurs sommes md5, des créer un nouveau paquet de manière interactive, de faire
une recherche, de nettoyer les fichiers générés ou encore de cuire plusieurs
paquets en une seule fois (Voir les commandes disponibles).
</p>
<p>
Tazwok est écript en script shell depuis rien (from scratch), compatible Bash,
et fonctionnant avec Ash du projet Busybox. Tazwok est distribué sous license
libre GNU gpl v3. Les recettes avec leures commades sont basée sur le livre
de cuisine de SliTaz, le Cookbook fournit aussi de la documentation au sujet
de Tazwok et du développement de SliTaz.
</p>

<h2>COMMANDES</h2>
<h3><font color="#6c0023">usage</font></h3>
<p>
La commande 'usage' affiche la liste des commandes diponibles avec une petite
description en English :
</p>
<pre>
 # tazwok usage
</pre>
<h3><font color="#6c0023">stats</font></h3>
<p>
Stats affiche les informations contenue dans le fichier de configuration et
le nombre de paquets disponibles dans le wok :
</p>
<pre>
 # tazwok stats
</pre>
<h3><font color="#6c0023">list</font></h3>
<p>
La commande 'list' permet de lister l'ensemble des paquets contenus dans le
wok ou de lister les catégories par défauts (vous pouvez créer la votre). Elle
permet aussi de lister les paquets d'une catégorie :
</p>
<pre>
 # tazwok list
 # tazwok list category
</pre>
<h3><font color="#6c0023">info</font></h3>
<p>
Cette commande donne des informations sur le paquet, nom, version, etc. Info
ce base sur la recette du paquet pour connaître les informations, c'est les
mêmes infos affichées par Tazpkg et les paquets installés :
</p>
<pre>
 # tazwok info package
</pre>
<h3><font color="#6c0023">check-log</font></h3>
<p>
Lors de la compilation et génération du paquet binaire, Tazwok génére quelques
messages de log stockés dans un fichier 'process.log'. Pour les afficher :
</p>
<pre>
 # tazwok check-log package
</pre>
<h3><font color="#6c0023">search</font></h3>
<p>
Search permet de faire une recherche de paquet dans le wok. Vous pouvez
spécifier un terme ou un nom de paquet :
</p>
<pre>
 # tazwok search name
</pre>
<h3><font color="#6c0023">compile</font></h3>
<p>
Compile va compiler. Cette commande utilise les régles de compilation
(compile_rules) spécifiées dans la recette du paquet en question, pour
compiler les sources. A noter qu'il n'y a pas forcement de régles de
compilation, des paquets sont directement généré par 'genpkg' et que la
commande 'cook' permet de compiler les sources et générer le paquet binaire
en une seule fois. Exemple :
</p>
<pre>
 # tazwok compile package
</pre>
<h3><font color="#6c0023">genpkg</font></h3>
<p>
Genpkg pour <em>Generate package</em>, va générer le paquet (.tazpkg) en
utilisant la fonction 'genpkg_rules' trouvée dans sa recette et compresser
les fichiers. Une fois le paquet généré,  il est stocké dans le repositoire
des paquetss spécifié dans le fichier de configuration ('tazwok stats' pour
afficher la configuration courante). Le paquet peut ensuite facilement
s'installer via Tazpkg ou être utilisé par Tazlito pour générer une
distribution LiveCD automatiquement. A noter que les fichiers standards tels
que les locales, le pixmap ou le fichier.desktop sont automatiquement copiés
dans $fs/usr/share, si les chemins sont standards ou si le fichier existe dans
/stuff. Utilisation de 'genpkg' :
</p>
<pre>
 # tazwok genpkg package
</pre>
<h3><font color="#6c0023">cook</font></h3>
<p>
Cook va simplement compiler et empaqueter les paquet en une seule fois :
</p>
<pre>
 # tazwok cook package
</pre>
<h3><font color="#6c0023">cook-list</font></h3>
<p>
Cette commade va lancer 'tazwok cook' sur tous les paquets contenus dans la
liste spécifiées en argument. Cook-list est utilisés par exemple, pour cuire
le système de base, les applications de base, le système X, etc. Avant de
lancer cette commande avec un grand nombre de paquets, il est conseillé de
cuire une fois le système de base (base-system) sans la glibc. Sur SliTaz,
vous trouverez des exemples de liste de cuisson (cooklist) dans le répertoire
des exemples /usr/share/examples/tazwok/cooklists :
</p>
<pre>
 # tazwok cook-list packages.cooklist
</pre>
<h3><font color="#6c0023">clean</font></h3>
<p>
Clean permet simplement de supprimer tous les fichiers générés par la
compilation et l'empaquetage, pour recommencer à cuire (cook) :
</p>
<pre>
 # tazwok clean package
</pre>
<h3><font color="#6c0023">new-tree</font></h3>
<p>
La commande 'new-tree' permet de créer un nouveau paquet dans le wok et
peut s'utiliser de manière interactive. New-tree va créer le répertoire du
paquet et une recette modèle (receipt), cette recette peur être éditée avec
votre éditeur de texte préféré et peut se configurer via l'option
'--interactive'. Pour vous aider vous pouvez regarder des recettes existantes
et lire la documentation du Cookbook. Exemple d'utilisation :
</p>
<pre>
 # tazwok new-tree package
 # tazwok new-tree package --interactive
</pre>
<h3><font color="#6c0023">gen-list</font></h3>
<p>
La commande 'gen-list' permet de générer une liste de paquets (packages.list),
leurs sommes md5 (packages.md5) et en option une liste de paquet contenant plus
d'informations (packages.txt). Les simples listes sont crées en se basant sur
les paquets contenus dans un répertoire. La liste au format texte est construite
avec les recettes contenues dans un wok. Le répertoire des paquets par défaut
est celui spécifié dans le fichier de configuration, vous avez aussi la
possibilité de spécifier le répertoire à utiliser sur la ligne de commande.
Utilisation de la commande 'gen-list' :
</p>
<pre>
 # tazwok gen-list
 # tazwok gen-list --text
 # tazwok gen-list /path/to/repository
</pre>
<h3><font color="#6c0023">gen-clean-wok et clean-wok</font></h3>
<p>
La commande 'gen-clean-wok' permet de générer un wok propre depuis le wok
courant. Cette commande est utile pour sauvegarder un version du wok ou copier
un wok pour tester avec un autre. Quand à la commande 'clean-wok', elle va
nettoyer tous les paquets du wok courant et supprimer tous les fichiers
générés. Pour récupérer un wok propre ou nettoyer le wok actuel :
</p>
<pre>
 # tazwok gen-clean-wok path/to/new-wok
 # tazwok clean-wok
</pre>
<h3><font color="#6c0023">remove</font></h3>
<p>
Supprime le paquet spécifié du wok, avec tous les fichiers, stuff et recette
y compris :
</p>
<pre>
 # tazwok remove package
</pre>
<h3><font color="#6c0023">build-depends</font></h3>
<p>
Build-depends génère une liste de paquets nécessaires pour compiler le wok :
</p>
<pre>
 # tazwok build-depends
</pre>
<h3><font color="#6c0023">cmp|compare</font></h3>
<p>
Compare le wok avec les paquets déjà cuits et génère un rapport.
Les paquets obsolètes peuvent être effacés avec l'option --remove.
Les paquets à compiler peuvent l'être avec l'option --cook.
</p>
<pre>
 # tazwok compare
 # tazwok compare --remove
 # tazwok compare --cook
</pre>
<h3><font color="#6c0023">check</font></h3>
<p>
Recherche les erreurs courantes dans les receipts :
</p>
<pre>
 # tazwok check
</pre>

<h2>MAINTENEUR</h2>
<p>
Christophe Lincoln &lt;pankso at slitaz.org&gt;
</p>

<!-- End content -->
</div>
</body>
</html>
