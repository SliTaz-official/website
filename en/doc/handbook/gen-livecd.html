<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SliTaz Handbook (en) - Gen a LiveCD to taste</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
    <meta name="description" content="slitaz tazlito build livecd flavor support all in RAM" />
    <meta name="expires" content="never" />
    <meta name="modified" content="2008-07-20 06:08:00" />
    <meta name="publisher" content="www.slitaz.org" />
    <meta name="author" content="Christophe Lincoln"/>
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" type="text/css" href="book.css" />
</head>
<body bgcolor="#ffffff">

<!-- Header and quick navigation -->
<div id="header">
<div align="right" id="quicknav">
    <a name="top"></a>
    <a href="liveusb.html">LiveUSB media</a> |
    <a href="index.html">Table of contents</a>
</div>
<h1><font color="#3E1220">SliTaz Handbook (en)</font></h1>
</div>

<!-- Content. -->
<div id="content">
<div class="content-right"></div>

<h2><font color="#DF8F06">Generate a LiveCD to taste</font></h2>
<p>
Create your own LiveCD quickly and easily with Tazlito.
</p>

<ul>
	<li><a href="#intro">To begin.</a></li>
	<li><a href="#2cmds">A LiveCD in 2 commands.</a></li>
	<li><a href="#get-flavor">Get a taste.</a></li>
	<li><a href="#gen-distro">Generate the distribution.</a></li>
	<li><a href="#gen-flavor">Create a flavor.</a></li>
	<li><a href="#addfiles">Additional files.</a></li>
	<li><a href="#pkgs">Packages used.</a></li>
	<li><a href="#configure">Configuration file.</a></li>
</ul>

<a name="intro"></a>
<h3>To begin</h3>
<p>
Creating your own LiveCD version of SliTaz with Tazlito 
takes little time and you can choose precisely the software
packages that you want to find on the system. The support
of flavors permits you to generate a customized LiveCD
amended by a list of packages or flavors created by the SliTaz
community. Tazlito is a command line tool that is not too
demanding, you can have your own ISO image in two commands
or burned in one.
</p>
<p>
The generation of the LiveCD requires a minimum of 256 MB 
RAM and system compression with LZMA may take some time. It's
possible to create a distribution from the LiveCD or from an
installed system. In LiveCD mode, it's advisable to use persistent
media or a USB drive to store generated files and save space in RAM.
</p>
<p>
Tazlito is used by developers to generate the official LiveCD.
The only prerequisite is to have Tazlito installed, this is installed
by default on SliTaz, but you can generate from another 
LiveCD distribution if they have the necessary packages on hand
or can be downloaded.
</p>
<h4>Install Tazlito on another distribution</h4>
<p>
Tazlito does not generate dependencies for the LiveCD, but
it depends of Cdrkit to burn the image and Tazpkg to 
regenerate SliTaz packages not already installed. To retrieve 
and install Tazlito, follow the instructions in the README
file in <a href="http://download.tuxfamily.org/slitaz/sources/tazlito/"
	>the sources of Tazlito</a>.
</p>

<a name="2cmds"></a>
<h3>A LiveCD in 2 commands</h3>
<ul>
	<li>Get a flavor : <code>tazlito get-flavor core</code></li>
	<li>Optional : Amend the list of packages or add 
	  additional files.</li>
	<li>Generate the distribution : <code>tazlito gen-distro</code></li>
</ul>
<p>
Once finished, you will find the LiveCD ISO image in the
<code>/home/slitaz/distro</code>.
</p>
<p>
For simple instructions click <a href="simple-gen-livecd.html">here</a> .
</p>

<a name="get-flavor"></a>
<h3>Get a taste</h3>
<p>
A flavor is a <code>.flavor</code> file containing all the necessary information
for the creation of the CD. The flavor provides the list of
packages (<code>distro-packages.list</code>) and additional files for the
chosen flavor.  A list of flavors can be downloaded and
updated with Tazlito:
</p>
<pre>
 # tazlito list-flavors
 Or :
 # tazlito list-flavors --recharge
</pre>
<p>
A list of flavors will automatically be displayed, giving the
size of the LiveCD and a brief description. For the remainder,
the <code>get-flavor</code> command will download the flavor file, 
automatically extract the package list and description in 
the current directory and put additional files in the
<code>/home/slitaz/distro/addfiles</code> directory. To store <em>flavors</em>,
we suggest that you use a specific directory such as
<code>/home/slitaz/flavors</code>, you can create this yourself and proceed
inside:
</p>
<pre>
 # mkdir -p /home/slitaz/flavors
 # cd /home/slitaz/flavors
</pre>
<p>
To download and/or extract the files in a particular flavor:
</p>
<pre>
 # tazlito get-flavor particular-flavor
</pre>
<p>
The description of the flavor can be displayed with the 
<code>show-flavor</code> command. Once the chosen flavor is downloaded
you can start to generate the distribution.

</p>

<a name="gen-distro"></a>
<h3>Generate the distribution</h3>
<p>
For your first ISO, we advise you to test without modifying
the list, then you can start to delete or add packages
at will. But beware, the base system packages are essential.
The <code>gen-distro</code> command generates an ISO image with all the
packages on the list, it must be run as root and be in the
same directory as the list and the configuration file.
To generate a LiveCD:
</p>
<pre>
 # tazlito gen-distro
</pre>
<p>
Voil&agrave;, your first LiveCD ISO image is generated in <code>/home/slitaz/distro</code>,
but without an account for the user hacker.
</p>
<h4>The user hacker</h4>
<p>
If you want to have a hacker user account, we must add one
and then recreate the compressed root filesystem:
</p>
<pre>
 # tazlito addhacker
 # tazlito gen-initiso
</pre>
<h4>Clean and regenerate distro</h4>
<p>
To continue to go further, you can simply add one or two packages
to the list, clean the distro and regenerate the root
filesystem with a new ISO image:
</p>
<pre>
 # tazlito clean-distro
 # tazlito gen-distro
</pre>
<p>
Tazlito also offers several possibilities, such as burning the 
ISO or copying additional files in the system or directly
on to the cdrom. The Tazlito <a href="../manuals/tazlito.en.html">Manual</a>
provides more information.

</p>

<a name="gen-flavor"></a>
<h3>Create a flavor</h3>
<p>
Tazlito allows you to easily create your own flavor from
the results of manufacturing the distribution (<code>gen-distro</code>).
The file will contain all the flavor's additional files,
a description and a list of packages which can be reused later
and updated according to the versions of packages. To generate
you own flavor responding to one or two questions:
</p>
<pre>
 # tazlito gen-flavor new-flavor
</pre>
<p>
Once your flavor is fully functioning and well tested, you 
can send it to slitaz.org to make it available to all and sundry,
listed via <code>list-flavor</code> and usable via <code>get-flavor</code>. To send
a flavor you have several means, announce through the mailing list, 
save the file online and report on the forum or send by mail
to a contributor of the project. 
</p>

<a name="addfiles"></a>
<h3>Additional files</h3>
<p>
The files containing flavors usually have additional files
copied directly into the filesystem or the root of the cdrom.
The path to the files used is specified in the configuration
file <code>tazlito.conf</code> - by default the files are 
located in <code>/home/slitaz/distro/addfiles</code>. The additional files
the core flavor provides are for example the window manager
JWM and some wallpapers. It is easy enough to modify, add
or delete files in the root filesystem (<code>rootfs</code>) or the root
of the CD (<code>rootcd</code>) and regenerate the distribution. 
To clean and regenerate the distribution:
</p>
<pre>
 # tazlito clean-distro
 # tazlito gen-distro
</pre>

<a name="pkgs"></a>
<h3>Packages used</h3>
<p>
To create your distro you need SliTaz packages. Tazlito and
Tazpkg allow us to recreate packages from a SliTaz system
in operation or to download packages directly depending on
the flavor chosen. By default, SliTaz packages are located
in the directory <code>/home/slitaz/packages</code>, but you can change
this via the Tazlito configuration file (tazlito.conf).
</p>
<p>
If you want to retrieve packages manually, you can use
FTP software such as gFTP (installed by default on SliTaz)
or the command line and <code>wget</code> to download official packages.
The direct URL to package versions: 
<a href="ftp://download.tuxfamily.org/slitaz/packages/"
	>ftp://download.tuxfamily.org/slitaz/packages/</a>
</p>
<p>
You can also use your own packages by putting them in the
packages directory. If you are looking for documentation
about the creation of SliTaz packages, you can refer to the
<a href="../cookbook/">Cookbook</a>.
</p>

<a name="configure"></a>
<h3>Configuration file</h3>
<p>
By default, Tazlito uses the system configuration file 
<code>/etc/tazlito/tazlito.conf</code> or the <code>tazlito.conf</code>
 located in the current directory. This means that you can use the default 
file or a configuration file specific to the distro you want to 
create. This file can change the name of the ISO image, the
name of the maintainer and the paths to the working 
directories. To create and configure your own configuration
file, you just need to run Tazlito with the <code>configure</code> 
command from the working directory of the distro. 
Assuming you have the tree of the distro in <code>/home/slitaz/distro</code>
and you're located within:
</p>
<pre>
 $ tazlito configure
</pre>
<p>
Once you've answered the questions, you can either
create the ISO image, rebuild the root filesystem and ISO or
generate a new distro with the list of packages.
</p>

<!-- End of content -->
</div>

<!-- Footer. -->
<div id="footer">
	<div class="footer-right"></div>
	<a href="#top">Top of the page</a> | 
	<a href="index.html">Table of contents</a>
</div>

<div id="copy">
    Copyright &copy; 2008 <a href="http://www.slitaz.org/en/">SliTaz</a> -
    <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a>;<br />
    Documentation is under
    <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</a>
    and code is <a href="http://validator.w3.org/">valid xHTML 1.0</a>.
</div>

</body>
</html>

