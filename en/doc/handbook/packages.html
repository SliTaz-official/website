<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>SliTaz Handbook (en) - Packages</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
    <meta name="description" content="slitaz packages tazpkg install new applications upgrade list extract" />
    <meta name="expires" content="never" />
    <meta name="modified" content="2008-02-26 18:30:00" />
    <meta name="publisher" content="www.slitaz.org" />
    <meta name="author" content="Christophe Lincoln"/>
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" type="text/css" href="book.css" />
</head>
<body bgcolor="#ffffff">

<!-- Header and quick navigation -->
<div id="header">
<div align="right" id="quicknav">
    <a name="top"></a>
    <a href="system-admin.html">System administration</a> |
    <a href="index.html">Table of contents</a>
</div>
<h1><font color="#3E1220">SliTaz Handbook (en)</font></h1>
</div>

<!-- Content. -->
<div id="content">
<div class="content-right"></div>

<h2><font color="#DF8F06">Packages</font></h2>

<ul>
	<li><a href="#tazpkg">Tazpkg</a> - Package manager.</li>
	<li><a href="#list">List of packages</a> -  Display or generate a list 
	of packages.</li>
	<li><a href="#install">Install packages</a> - Get and install new 
	packages.</li>
	<li><a href="#upgrade">Upgrade</a> - Keep your system secure.</li>
	<li><a href="#tazwok">Tazwok &amp; the wok</a> - Package format and build
	tools.</li>
</ul>

<a name="tazpkg"></a>
<h3>Tazpkg - Package manager</h3>
<p>
SliTaz provides a tiny package manager which can easily install more software
on the system. Tazpkg is a lightweight package manager for <code>.tazpkg</code>
files, completely written in SHell script. It works well with Busybox ash shell and
bash. Tazpkg lets you list, install, remove, download, extract, pack, search,
or get information about available or installed packages. You can also repack 
an installed package and automatically upgrade all installed packages. On SliTaz
you can type <code>tazpkg usage</code> in a terminal to get a list of all the
commands with a short description in English.
</p>

<a name="list"></a>
<h3>List of packages</h3>
<p>
Tazpkg lets you list all installed packages, installed 
packages by category or it can display the list of available packages on the mirror.
To display a single list of all installed packages on the system just type:
</p>
<pre>
 $ tazpkg list
</pre>
<p>
To display all categories or packages sorted by category, you must specifiy
<code>cat</code> or <code>category</code>.
 Examples:
</p>
<pre>
 $ tazpkg list cat
 $ tazpkg list base-system
</pre>
<p>
Tazpkg can also generate a nice  xHTML list (default: <code>installed-packages.html</code>) in the local directory of all installed packages on the system:
</p>
<pre>
$ tazpkg xhtml-list
</pre>
<p>
To get a single list of all available packages on the mirror you can use
the command <code>list-mirror</code>, you can then examine the list in your favorite editor
or use the Web site interface. 
</p>

<a name="install"></a>
<h3>Install packages</h3>
<p>
To install some new applications such as The Gimp, AbiWord, ePDFView, Perl or 
Python, you first need to recharge the list of available packages on the 
mirror and then install. If the package dependencies are not installed 
Tazpkg will install them for you. For example, the installation of Gparted a 
GTK+ partition editor using GNU parted:
</p>
<pre>
 # tazpkg recharge
 # tazpkg get-install gparted
</pre>

<a name="upgrade"></a>
<h3>Upgrade installed packages</h3>
<p>
To keep your system up-to-date and secure after recharging the packages list, 
you can automatically install all new versions and security updates from the 
mirror with the command:
</p>
<pre>
 # tazpkg upgrade
</pre>

<a name="tazwok"></a>
<h3>Tazwok &amp; the wok</h3>
<p>
All SliTaz packages are built with a tool named Tazwok and a receipt found
in the wok. The receipt provides all the necessary information to build a suitable
package for Tazpkg, variables to give us the package name, source tarball format, 
download URL, etc. With a receipt then the <code>compile_rules</code> function has got all
the necessary commands to configure, make and install the package in a specific directory.
After the compilation, Tazwok will execute the function <code>genpkg_rules</code>
to pick up only the needed/wanted files and generate a pkg.tazpkg (cpio archive).
On SliTaz you will find all installed package receipts in the directory
<code>/var/lib/tazpkg/installed</code>, feel free to examine them or even use one as an
example.
</p>
<p>
Tazwok will search by default for a wok in <code>/home/slitaz/wok</code> and
put generated packages in <code>/home/slitaz/packages</code>, these paths are
set by a Tazwok configuration file which can be located in
<code>/etc/tazwok.conf</code> or in the current directory, this is useful if you 
want to work with multiple woks. Now, if the <code>slitaz-toolchain</code> is 
installed, you can start to create and build a package which doesn't need many 
dependencies. Small example:
</p>
<pre>
 # tazwok new-tree pkgname --interactive
</pre>
<p>
When a new package tree and receipt has been created in the wok, you can edit the
receipt with your favorite editor (Geany provides nicely colored code), modify
the rules functions, add dependencies to the <code>DEPENDS</code> variable 
if needed and try a first cook:
</p>
<pre>
 # tazwok cook pkgname
</pre>
<p>
Note that you can now browse the generated files, modify the cooking receipt again or
just rebuild the package with <code>tazwok genpkg</code>. When you are happy with
your work you can install the package with <code>tazpkg install</code> and 
test the application or library.
</p>

<!-- End of content -->
</div>

<!-- Footer. -->
<div id="footer">
	<div class="footer-right"></div>
	<a href="#top">Top of the page</a> | 
	<a href="index.html">Table of contents</a>
</div>

<div id="copy">
    Copyright &copy; 2008 <a href="http://www.slitaz.org/en/">SliTaz</a> -
    <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a>;<br />
    Documentation is under
    <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</a>
    and code is <a href="http://validator.w3.org/">valid xHTML 1.0</a>.
</div>

</body>
</html>
