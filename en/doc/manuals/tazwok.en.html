<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Tazwok Manual</title>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />
	<meta name="description" content="" />
	<meta name="expires" content="never" />
	<meta name="modified" content="2008-07-18 20:30:00" />
	<style type="text/css"><!--
	body { font: 90% sans-serif, vernada, arial; margin: 0; }
	#header { background: #f0ba08; color: black; height: 50px;
		border-top: 1px solid black; border-bottom: 1px solid black; }
	#content { margin: 0px 50px 26px 50px; }
	h1 { margin: 14px 0px 0px 16px; }
	li { line-height: 1.4em; }
	pre { padding: 5px; color: black; background: #e1e0b0; }
	pre.script { padding: 10px; color: black; background: #e8e8e8;
		border: 1px inset #333333; }
	code { font-size: 100%; color: #669900; background: transparent; }
	hr { color: white; background: white; height: 1px; border: 0; }
	--></style>
</head>
<body bgcolor="#ffffff">
<div id="header">
<h1><font color="#3e1220">Tazwok Manual</font></h1>
</div>
<hr />
<!-- Start content -->
<div id="content">

<h2>NAME</h2>
<p>
Tazwok - SliTaz sources and packages cooker.
</p>

<h2>SYNTAX</h2>
<pre> tazwok [command] [package|list|category|dir] [--option]
</pre>

<h2>DESCRIPTION</h2>
<p>
Tazwok is a command line tool to configure and compile a package from source. Tazwok can also create packages
ready to be used by Tazpkg, the SliTaz package manager. To work, Tazwok uses a directory containing
the receipt and the necessary information (stuff) for the construction of the package. This receipt is also used by
Tazpkg and consists of different variables and functions. Tazwok uses a configuration file (/etc/tazwok.conf)
to find the path to the wok, the package sources, and any generated .tazpkg packages. Tazwok can also generate
a list of packages with their md5, create packages interactively, search for packages in the wok, clean generated files and even 
cook several packages at once (See available commands).
</p>
<p>
Tazwok is entirely built from scratch using SHell script, compatible with Bash, it runs under Ash - 
part of the Busybox project. Tazwok is distributed under the free GNU license GPL V3. The SliTaz
Cookbook also provides documentation about Tazwok and the package receipts.
</p>

<h2>COMMANDS</h2>
<h3><font color="#6c0023">usage</font></h3>
<p>
Usage displays a summary of available commands with a short description in English:
</p>
<pre> # tazwok usage
</pre>
<h3><font color="#6c0023">stats</font></h3>
<p>
Stats displays information contained in the configuration file and the number of packages
available in the wok:
</p>
<pre> # tazwok stats
</pre>
<h3><font color="#6c0023">list</font></h3>
<p>
List allows you to list all the packages contained in the wok or the default categories
(you can create your own). It can also list packages by category:
</p>
<pre> # tazwok list
 # tazwok list category
</pre>
<h3><font color="#6c0023">info</font></h3>
<p>
This command provides information on the package - name, version, etc. Info on the basic package receipt
is the same as displayed by Tazpkg and the installed packages:
</p>
<pre> # tazwok info package
</pre>
<h3><font color="#6c0023">check-log</font></h3>
<p>
When compiling a binary source, Tazwok generates a few messages stored in the file
'process.log'. To view:
</p>
<pre> # tazwok check-log package
</pre>
<h3><font color="#6c0023">search</font></h3>
<p>
Search allows you to search for packages in the wok. You can specify a term or package name:
</p>
<pre> # tazwok search name
</pre>
<h3><font color="#6c0023">compile</font></h3>
<p>
This command uses the compilation rules (compile_rules) specified in the receipt for the package in
question to compile the sources. Note compilation rules are not always necessary - packages 
generated by 'genpkg' and 'cook' can also compile sources and generate the binary package.
Example:
</p>
<pre> # tazwok compile package
</pre>
<h3><font color="#6c0023">genpkg</font></h3>
<p>
Genpkg will generate the .tazpkg package using the 'genpkg_rules' found in the receipt.
Once the package is generated, it's stored in the repository of packages specified in the configuration
file ('tazwok stats' to view). The package can be used by Tazpkg or Tazlito to generate a LiveCD
distribution. Note that the standard files such as local, pixmap or name.desktop are automatically copied
to $fs/usr/share, provided the paths are standard or if the file exists in /stuff. Example using 'genpkg':
</p>
<pre> # tazwok genpkg package
</pre>
<h3><font color="#6c0023">cook</font></h3>
<p>
Cook will simply compile and generate the package:
</p>
<pre> # tazwok cook package
</pre>
<h3><font color="#6c0023">cook-list</font></h3>
<p>
This command will launch 'tazwok cook' on all the packages contained in the list file specified in the argument.
Cook-list is used for example, to cook the base system (base-system) without glibc. On SliTaz, you will find
examples of cooking lists in the directory /usr/share/examples/tazwok.cooklists:
</p>
<pre> # tazwok cook-list packages.cooklist
</pre>
<h3><font color="#6c0023">clean</font></h3>
<p>
Clean can simply delete all files generated by compiling and packaging: 
</p>
<pre> # tazwok clean package
</pre>
<h3><font color="#6c0023">new-tree</font></h3>
<p>
The 'new-tree' command can create a new package in the wok and can be used interactively. It
will create a directory of the package and a receipt that can then be edited with your favorite
text editor. The receipt can also be configured using the '--interactive' option. For help you can look at existing 
receipts or read the documentation in the Cookbook. Example: 
</p>
<pre> # tazwok new-tree package
 # tazwok new-tree package --interactive
</pre>
<h3><font color="#6c0023">gen-list</font></h3>
<p>
The 'gen-list' command can generate a list of packages (packages.list), their md5 (packages.md5) and a list
of options containing information (packages.txt). The lists are created on the basis of packages
contained in a directory. The list in text format is built using a receipt contained in a wok. The default
packages directory is the one specified in the configuration file, you can also specify the directory on the
command line. Examples: 
</p>
<pre> # tazwok gen-list
 # tazwok gen-list --text
 # tazwok gen-list /path/to/repository
</pre>
<h3><font color="#6c0023">gen-clean-wok and clean-wok</font></h3>
<p>
The 'gen-clean-wok' command can create a new wok, this is useful to save a version of the wok, or create a new wok
to test with another. Running 'clean-wok' will clean all packages in the current wok and delete any generated
files. To generate a clean wok or clean the current wok:
</p>
<pre> # tazwok gen-clean-wok path/to/new-wok
 # tazwok clean-wok
</pre>
<h3><font color="#6c0023">remove</font></h3>
<p>
Removes the package specified from the wok, including the receipt, stuff, all files, etc:
</p>
<pre> # tazwok remove package
</pre>
<h3><font color="#6c0023">build-depends</font></h3>
<p>
Build-depends generates a list of packages to build a wok:
</p>
<pre> # tazwok build-depends
</pre>
<h3><font color="#6c0023">cmp|compare</font></h3>
<p>
Compares the wok and the cooked packages and generates a report.
Obsolete packages can be deleted with the --remove option.
The --cook option compiles the packages. Examples:
</p>
<pre> # tazwok compare
 # tazwok compare --remove
 # tazwok compare --cook
</pre> 
<h3><font color="#6c0023">check</font></h3>
<p>
Checks the receipts for common errors:
</p>
<pre> # tazwok check
</pre>

<h2>MAINTAINER</h2>
<p>
Christophe Lincoln &lt;pankso at slitaz.org&gt;
</p>

<!-- End content -->
</div>

</body>
</html>
